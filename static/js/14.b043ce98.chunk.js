(this.webpackJsonphzf=this.webpackJsonphzf||[]).push([[14],{230:function(t,e,n){"use strict";n(18),n(231)},231:function(t,e,n){},232:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(2)),r=u(n(3)),c=u(n(7)),a=u(n(4)),s=u(n(6)),o=u(n(10)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},f=function(t){function e(){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.className,r=t.children,c=t.mode,a=t.icon,s=t.onLeftClick,u=t.leftContent,f=t.rightContent,h=d(t,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,i.default)({},h,{className:(0,o.default)(n,e,e+"-"+c)}),l.createElement("div",{className:e+"-left",role:"button",onClick:s},a?l.createElement("span",{className:e+"-left-icon","aria-hidden":"true"},a):null,u),l.createElement("div",{className:e+"-title"},r),l.createElement("div",{className:e+"-right"},f))}}]),e}(l.Component);e.default=f,f.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},t.exports=e.default},324:function(t,e,n){},487:function(t,e,n){"use strict";n.r(e);n(230);var i=n(232),r=n.n(i),c=(n(112),n(113)),a=n.n(c),s=(n(114),n(49)),o=n.n(s),l=n(28),u=n.n(l),d=n(38),f=n(34),h=n(35),y=n(36),p=n(37),x=n(0),m=n(105),v=n(39),j=n(311),b=(n(324),n(1)),O=function(t){Object(y.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(f.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={cityIndex:[],cityList:{},activeCity:0},t.getCityList=Object(d.a)(u.a.mark((function e(){var n,i,r,c,a,s,o,l,d,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)();case 2:if(n=e.sent,i=n.status,r=n.data,200!==i){e.next=21;break}return c=t.formatCityData(r),a=c.cityList,s=c.cityIndex,e.next=9,Object(m.a)();case 9:if(o=e.sent,l=o.status,d=o.data,200!==l){e.next=21;break}return s.unshift("hot"),a.hot=d,e.next=17,Object(v.a)();case 17:f=e.sent,s.unshift("#"),a["#"]=[f],t.setState({cityList:a,cityIndex:s});case 21:case"end":return e.stop()}}),e)}))),t.formatCityData=function(t){var e,n={};return t.forEach((function(t){var e=t.short.slice(0,1);e in n?n[e].push(t):n[e]=[t]})),e=Object.keys(n).sort(),{cityList:n,cityIndex:e}},t.formatKey=function(t,e){switch(t){case"#":return e?"\u5f53":"\u5f53\u524d\u57ce\u5e02";case"hot":return e?"\u70ed":"\u70ed\u95e8\u57ce\u5e02";default:return t.toUpperCase()}},t.handelClick=function(e){["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"].includes(e.label)?(Object(v.e)("CURR_CityList",e),t.props.history.goBack()):o.a.info("\u6240\u9009\u57ce\u5e02\u6ca1\u6709\u623f\u6e90\uff0c\u8bf7\u6362\u4e00\u6362")},t.rowRenderer=function(e){var n=e.key,i=e.index,r=(e.isScrolling,e.isVisible,e.style),c=t.state,a=c.cityList,s=c.cityIndex[i];return Object(b.jsxs)("div",{style:r,className:"city-item",children:[Object(b.jsx)("div",{className:"title",children:t.formatKey(s)}),a[s].map((function(e,n){return Object(b.jsx)("div",{onClick:function(){t.handelClick(e)},className:"name",children:e.label},n)}))]},n)},t.rowHeight=function(e){var n=e.index,i=t.state;return 36+50*i.cityList[i.cityIndex[n]].length},t.renderCityIndex=function(){return t.state.cityIndex.map((function(e,n){return Object(b.jsx)("li",{className:"city-index-item",children:Object(b.jsx)("span",{onClick:function(){t.ListKey.scrollToRow(n)},className:t.state.activeCity===n?"index-active":"",children:t.formatKey(e,!0)})},e)}))},t.onRowsRendered=function(e){e.overscanStartIndex,e.overscanStopIndex;var n=e.startIndex;e.stopIndex;t.state.activeCity!==n&&t.setState({activeCity:n})},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getCityList()}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"cityBox",children:[Object(b.jsx)(r.a,{mode:"dark",icon:Object(b.jsx)(a.a,{type:"left"}),onLeftClick:function(){return t.props.history.goBack()},children:"\u57ce\u5e02\u5217\u8868"}),Object(b.jsxs)("div",{className:"citylist",children:[Object(b.jsx)(j.a,{children:function(e){var n=e.width,i=e.height;return Object(b.jsx)(j.c,{ref:function(e){t.ListKey=e},width:n,height:i,rowCount:t.state.cityIndex.length,rowHeight:t.rowHeight,rowRenderer:t.rowRenderer,scrollToAlignment:"start",onRowsRendered:t.onRowsRendered})}}),Object(b.jsx)("ul",{className:"city-index",children:this.renderCityIndex()})]})]})}}]),n}(x.Component);e.default=O}}]);
//# sourceMappingURL=14.b043ce98.chunk.js.map