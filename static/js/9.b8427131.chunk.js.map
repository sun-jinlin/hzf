{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","api/User/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/HouseItem/index.js","components/HouseItem/index.module.css","components/HousePackage/index.js","components/HousePackage/index.module.css","components/HouseDetail/index.module.css","api/HouseDetail/index.js","components/HouseDetail/index.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","require","defineProperty","exports","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","NavBar","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_a","props","prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent","restProps","createElement","role","onClick","Component","defaultProps","module","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","n","toString","slice","constructor","name","test","login","data","request","method","url","getUserInfo","logout","getFavorites","id","mothod","addFavorites","delFavorites","submitHouse","getUserHouses","ownKeys","object","enumerableOnly","keys","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread2","target","source","forEach","getOwnPropertyDescriptors","defineProperties","_defineProperty","configurable","writable","HouseItem","src","title","desc","tags","price","style","styles","house","imgWrap","img","alt","content","map","tag","index","tagClass","join","priceNum","HOUSE_PACKAGE","HousePackage","state","selectedNames","toggleSelect","newSelectedNames","item","onSelect","setState","select","list","v","includes","isSelected","active","root","renderItems","getHouseDetail","recommendHouses","BASE_URL","BMap","window","labelStyle","position","zIndex","backgroundColor","color","height","padding","lineHeight","borderRadius","boxShadow","whiteSpace","fontSize","userSelect","HouseDetail","alert","isLoading","houseInfo","houseImg","roomType","size","oriented","floor","community","coord","latitude","longitude","supporting","houseCode","description","isFavorite","imgHeight","checkFavorite","a","isToken","match","params","status","handleFavorite","text","onPress","history","replace","pathname","backUrl","location","renderMap","href","display","width","background","verticalAlign","onLoad","dispatchEvent","Event","Map","point","Point","centerAndZoom","label","Label","offset","Size","setStyle","setContent","mapArrow","addOverlay","type","goBack","slides","autoplay","infinite","autoplayInterval","renderSwipers","info","infoTitle","Item","renderTags","infoPrice","infoPriceItem","month","infoBasic","align","mapTitle","mapContainer","about","houseTitle","titleEmpty","set","contact","user","useInfo","userAuth","userMsg","descText","recommend","items","fixedBottom","favoriteImg","favorite","telephone"],"mappings":"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","file":"static/js/9.b8427131.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// 获取axios\r\nimport request from '../../utils/request'\r\n\r\n\r\n// 用户登录接口\r\nexport function login(data) {\r\n  return request({\r\n    method: 'post',\r\n    url: '/user/login',\r\n    data\r\n  })\r\n}\r\n/**\r\n * 获取用户的信息资料\r\n * \r\n */\r\nexport function getUserInfo() {\r\n  return request({\r\n    method: 'get',\r\n    url: '/user',\r\n  })\r\n}\r\n/**\r\n * 登出\r\n * \r\n */\r\nexport function logout() {\r\n  return request({\r\n    method: 'post',\r\n    url: '/user/logout'\r\n  })\r\n}\r\n/**\r\n * 房屋是否收藏\r\n */\r\nexport function getFavorites(id) {\r\n  return request({\r\n    mothod: 'get',\r\n    url: `/user/favorites/${id}`\r\n  })\r\n}\r\n/**\r\n * 添加收藏\r\n */\r\nexport function addFavorites(id) {\r\n  return request({\r\n    method: 'post',\r\n    url: `/user/favorites/${id}`\r\n  })\r\n}\r\n/**\r\n * 取消收藏\r\n */\r\nexport function delFavorites(id) {\r\n  return request({\r\n    method: 'delete',\r\n    url: `/user/favorites/${id}`\r\n  })\r\n}\r\n/**\r\n *  发布房源\r\n */\r\nexport function submitHouse(data) {\r\n  return request({\r\n    method: 'post',\r\n    url: '/user/houses',\r\n    data\r\n  })\r\n}\r\n/**\r\n *  查看房源列表\r\n */\r\nexport function getUserHouses() {\r\n  return request({\r\n    method: 'get',\r\n    url: '/user/houses',\r\n  })\r\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = 'tag' + (index + 1)\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(' ')}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nHouseItem.propTypes = {\r\n  // src: PropTypes.string,\r\n  // title: PropTypes.string,\r\n  // desc: PropTypes.string,\r\n  // tags: PropTypes.array.isRequired,\r\n  // price: PropTypes.number,\r\n  // onClick: PropTypes.func\r\n}\r\n\r\nexport default HouseItem\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__3IR9g\",\"imgWrap\":\"HouseItem_imgWrap__1is7x\",\"img\":\"HouseItem_img__1srx9\",\"content\":\"HouseItem_content__oprSN\",\"title\":\"HouseItem_title__2-m-B\",\"desc\":\"HouseItem_desc__z3W2H\",\"price\":\"HouseItem_price__3e_Yc\",\"priceNum\":\"HouseItem_priceNum__hysMN\",\"tag\":\"HouseItem_tag__2JRJ7\",\"tag1\":\"HouseItem_tag1__ozAKo\",\"tag2\":\"HouseItem_tag2__3JJ2t\",\"tag3\":\"HouseItem_tag3__37oaQ\"};","import React, { Component } from 'react'\r\n\r\nimport styles from './index.module.css'\r\n\r\n// 所有房屋配套数据和图标\r\nconst HOUSE_PACKAGE = [\r\n  {\r\n    id: 1,\r\n    name: '衣柜',\r\n    icon: 'icon-wardrobe'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '洗衣机',\r\n    icon: 'icon-wash'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '空调',\r\n    icon: 'icon-air'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '天然气',\r\n    icon: 'icon-gas'\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '冰箱',\r\n    icon: 'icon-ref'\r\n  },\r\n  {\r\n    id: 6,\r\n    name: '暖气',\r\n    icon: 'icon-Heat'\r\n  },\r\n  {\r\n    id: 7,\r\n    name: '电视',\r\n    icon: 'icon-vid'\r\n  },\r\n  {\r\n    id: 8,\r\n    name: '热水器',\r\n    icon: 'icon-heater'\r\n  },\r\n  {\r\n    id: 9,\r\n    name: '宽带',\r\n    icon: 'icon-broadband'\r\n  },\r\n  {\r\n    id: 10,\r\n    name: '沙发',\r\n    icon: 'icon-sofa'\r\n  }\r\n]\r\n\r\n/* \r\n  该组件的两种功能：\r\n  1 根据传入的 list 展示房屋配置列表（房源详情页面）\r\n    <HousePackage list={['衣柜', '洗衣机']} />\r\n  2 从所有配置列表中选择房屋配置（发布房源页面）\r\n    <HousePackage select onSelect={selectedItems => {...}} />\r\n*/\r\nexport default class HousePackage extends Component {\r\n  state = {\r\n    // 选中名称\r\n    selectedNames: []\r\n  }\r\n\r\n  // 根据id切换选中状态\r\n  toggleSelect = name => {\r\n    const { selectedNames } = this.state\r\n    let newSelectedNames\r\n\r\n    // 判断该项是否选中\r\n    if (selectedNames.indexOf(name) > -1) {\r\n      // 选中：从数组中删除选中项，也就是保留未选中项\r\n      newSelectedNames = selectedNames.filter(item => item !== name)\r\n    } else {\r\n      // 未选中：添加到数组中\r\n      newSelectedNames = [...selectedNames, name]\r\n    }\r\n\r\n    // 传递给父组件\r\n    this.props.onSelect(newSelectedNames)\r\n\r\n    this.setState({\r\n      selectedNames: newSelectedNames\r\n    })\r\n  }\r\n\r\n  // 渲染列表项\r\n  renderItems() {\r\n    const { selectedNames } = this.state\r\n    // select 的值为 true 表示 选择房屋配置；false 表示仅展示房屋列表\r\n    // list 表示要展示的列表项\r\n    const { select, list } = this.props\r\n\r\n    let data\r\n    // 如果传了 select 表示：选择 房屋配置\r\n    // 如果没传 select 表示：展示 房屋配置 列表\r\n    if (select) {\r\n      data = HOUSE_PACKAGE\r\n    } else {\r\n      // 展示房屋配置列表\r\n      // 从所有的列表项中过滤出要展示的（list）列表项\r\n      data = HOUSE_PACKAGE.filter(v => list.includes(v.name))\r\n    }\r\n\r\n    return data.map(item => {\r\n      // 判断该项是否选中\r\n      const isSelected = selectedNames.indexOf(item.name) > -1\r\n\r\n      return (\r\n        <li\r\n          key={item.id}\r\n          className={[styles.item, isSelected ? styles.active : ''].join(' ')}\r\n          onClick={select && (() => this.toggleSelect(item.name))}\r\n        >\r\n          <p>\r\n            <i className={`iconfont ${item.icon} ${styles.icon}`} />\r\n          </p>\r\n          {item.name}\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return <ul className={styles.root}>{this.renderItems()}</ul>\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HousePackage_root__dFSNh\",\"item\":\"HousePackage_item__36yAZ\",\"active\":\"HousePackage_active__1CQPC\",\"icon\":\"HousePackage_icon__2zMBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HouseDetail_root__2mnoR\",\"slides\":\"HouseDetail_slides__EEbF5\",\"navHeader\":\"HouseDetail_navHeader__1doh_\",\"info\":\"HouseDetail_info___JkX7\",\"infoTitle\":\"HouseDetail_infoTitle__1hJ3N\",\"tags\":\"HouseDetail_tags__38Oc5\",\"tag\":\"HouseDetail_tag__1--U0\",\"tag1\":\"HouseDetail_tag1__1QG95\",\"tag2\":\"HouseDetail_tag2__1AK_A\",\"tag3\":\"HouseDetail_tag3__2frxF\",\"infoPrice\":\"HouseDetail_infoPrice__aH88v\",\"infoPriceItem\":\"HouseDetail_infoPriceItem__FrtbE\",\"month\":\"HouseDetail_month__Rv39z\",\"infoBasic\":\"HouseDetail_infoBasic__kNqO_\",\"title\":\"HouseDetail_title__1tqoi\",\"map\":\"HouseDetail_map__3xlbv\",\"mapTitle\":\"HouseDetail_mapTitle__kGa5k\",\"mapContainer\":\"HouseDetail_mapContainer__3bamO\",\"mapArrow\":\"HouseDetail_mapArrow__2u4r-\",\"houseTitle\":\"HouseDetail_houseTitle__2tKf9\",\"about\":\"HouseDetail_about__2TRim\",\"set\":\"HouseDetail_set__3Vk7r\",\"titleEmpty\":\"HouseDetail_titleEmpty__2SL5T\",\"contact\":\"HouseDetail_contact__3DxTw\",\"user\":\"HouseDetail_user__1VKde\",\"useInfo\":\"HouseDetail_useInfo__898Zu\",\"userAuth\":\"HouseDetail_userAuth__3k5WK\",\"userMsg\":\"HouseDetail_userMsg__2TxXr\",\"descText\":\"HouseDetail_descText__syGWd\",\"recommend\":\"HouseDetail_recommend__Kl8Dp\",\"items\":\"HouseDetail_items__1q9JX\",\"fixedBottom\":\"HouseDetail_fixedBottom__2_kYQ\",\"favorite\":\"HouseDetail_favorite__3kECn\",\"favoriteImg\":\"HouseDetail_favoriteImg__3numL\",\"telephone\":\"HouseDetail_telephone__12SsX\"};","// 引入封装的axios\r\nimport request from '../../utils/request'\r\n\r\n// 获取房屋数据\r\nexport function getHouseDetail(id) {\r\n  return request({\r\n    url: `/houses/${id}`\r\n  })\r\n}","import React, { Component } from 'react'\r\nimport { Carousel, Flex, Modal, Toast, NavBar, Icon } from 'antd-mobile'\r\nimport axios from 'axios'\r\nimport HouseItem from '../HouseItem'\r\nimport styles from './index.module.css'\r\nimport HousePackage from '../HousePackage'\r\n// 基地址\r\nimport { BASE_URL } from '../../utils/request'\r\n// 引入api\r\nimport { getHouseDetail } from '../../api/HouseDetail'\r\n// 获取token存在\r\nimport { isToken } from '../../utils/method'\r\n// api\r\nimport { getFavorites, addFavorites, delFavorites } from '../../api/User'\r\n\r\n// 猜你喜欢\r\nconst recommendHouses = [\r\n  {\r\n    id: 1,\r\n    src: BASE_URL + '/img/message/1.png',\r\n    desc: '72.32㎡/南 北/低楼层',\r\n    title: '安贞西里 3室1厅',\r\n    price: 4500,\r\n    tags: ['随时看房']\r\n  },\r\n  {\r\n    id: 2,\r\n    src: BASE_URL + '/img/message/2.png',\r\n    desc: '83㎡/南/高楼层',\r\n    title: '天居园 2室1厅',\r\n    price: 7200,\r\n    tags: ['近地铁']\r\n  },\r\n  {\r\n    id: 3,\r\n    src: BASE_URL + '/img/message/3.png',\r\n    desc: '52㎡/西南/低楼层',\r\n    title: '角门甲4号院 1室1厅',\r\n    price: 4300,\r\n    tags: ['集中供暖']\r\n  }\r\n]\r\n\r\n// 百度地图\r\nconst BMap = window.BMap\r\n\r\nconst labelStyle = {\r\n  position: 'absolute',\r\n  zIndex: -7982820,\r\n  backgroundColor: 'rgb(238, 93, 91)',\r\n  color: 'rgb(255, 255, 255)',\r\n  height: 25,\r\n  padding: '5px 10px',\r\n  lineHeight: '14px',\r\n  borderRadius: 3,\r\n  boxShadow: 'rgb(204, 204, 204) 2px 2px 2px',\r\n  whiteSpace: 'nowrap',\r\n  fontSize: 12,\r\n  userSelect: 'none'\r\n}\r\n\r\nconst alert = Modal.alert\r\n\r\nexport default class HouseDetail extends Component {\r\n  state = {\r\n    // 数据加载中状态\r\n    isLoading: false,\r\n\r\n    // 房屋详情\r\n    houseInfo: {\r\n      // 房屋图片\r\n      houseImg: [],\r\n      // 标题\r\n      title: '',\r\n      // 标签\r\n      tags: [],\r\n      // 租金\r\n      price: 0,\r\n      // 房型\r\n      roomType: '',\r\n      // 房屋面积\r\n      size: 0,\r\n      // 朝向\r\n      oriented: [],\r\n      // 楼层\r\n      floor: '',\r\n      // 小区名称\r\n      community: '',\r\n      // 地理位置\r\n      coord: {\r\n        latitude: '39.928033',\r\n        longitude: '116.529466'\r\n      },\r\n      // 房屋配套\r\n      supporting: [],\r\n      // 房屋标识\r\n      houseCode: '',\r\n      // 房屋描述\r\n      description: ''\r\n    },\r\n\r\n    // 表示房源是否收藏\r\n    isFavorite: false,\r\n    // 轮播图默认高度\r\n    imgHeight: 252,\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 获取配置好的路由参数：\r\n    // console.log('路由参数对象：', this.props.match.params)\r\n    // console.log(this.props)\r\n\r\n    // 获取房屋数据\r\n    this.getHouseDetail()\r\n    // 检查是否收藏\r\n    this.checkFavorite()\r\n  }\r\n\r\n  /* \r\n      收藏房源：\r\n\r\n      1 给收藏按钮绑定单击事件，创建方法 handleFavorite 作为事件处理程序。\r\n      2 调用 isAuth 方法，判断是否登录。\r\n      3 如果未登录，则使用 Modal.alert 提示用户是否去登录。\r\n      4 如果点击取消，则不做任何操作。\r\n      5 如果点击去登录，就跳转到登录页面，同时传递 state（登录后，再回到房源收藏页面）。\r\n      \r\n      6 根据 isFavorite 判断，当前房源是否收藏。\r\n      7 如果未收藏，就调用添加收藏接口，添加收藏。\r\n      8 如果已收藏，就调用删除收藏接口，去除收藏。\r\n\r\n      alert('提示', '登录后才能收藏房源，是否去登录?', [\r\n        { text: '取消' },\r\n        {\r\n          text: '去登录',\r\n          onPress: () => {}\r\n        }\r\n      ])\r\n    */\r\n  // 检查是否收藏\r\n  checkFavorite = async () => {\r\n    if (!isToken) return\r\n    const { id } = this.props.match.params\r\n    const { status, data } = await getFavorites(id)\r\n    if (status === 200) {\r\n      this.setState({ isFavorite: data.isFavorite })\r\n    }\r\n  }\r\n  // 收藏状态改变\r\n  handleFavorite = async () => {\r\n    if (!isToken()) {\r\n      Modal.alert('提示', '登录后才能收藏房源，是否登录？', [\r\n        { text: '取消' },\r\n        {\r\n          text: '登录', onPress: () =>\r\n            this.props.history.replace({ pathname: '/login', backUrl: this.props.location.pathname })\r\n        },\r\n      ]);\r\n\r\n    } else {\r\n      const { isFavorite } = this.state\r\n      const { id } = this.props.match.params\r\n      if (isFavorite) {\r\n        const res = await delFavorites(id)\r\n        if (res.status === 200) {\r\n          this.setState({ isFavorite: false })\r\n        }\r\n      } else {\r\n        const res = await addFavorites(id)\r\n        if (res.status === 200) {\r\n          this.setState({ isFavorite: true })\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n  // 获取房屋详细信息\r\n  async getHouseDetail() {\r\n    const { id } = this.props.match.params\r\n    const { status, data } = await getHouseDetail(id)\r\n    if (status === 200) {\r\n      this.setState({\r\n        houseInfo: data,\r\n        isLoading: false\r\n      })\r\n      const { community, coord } = data\r\n\r\n      // 渲染地图\r\n      this.renderMap(community, coord)\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  // 渲染轮播图结构\r\n  renderSwipers() {\r\n    const {\r\n      houseInfo: { houseImg }\r\n    } = this.state\r\n\r\n    return houseImg.map(item => (\r\n      <a key={item} href=\"http://itcast.cn\" style={{ display: 'inline-block', width: '100%', background: 'gray', height: this.state.imgHeight }}>\r\n        <img src={BASE_URL + item}\r\n          style={{ width: '100%', verticalAlign: 'top' }}\r\n          onLoad={() => {\r\n            // fire window resize event to change height\r\n            // 触发了一个自适应高度的事件\r\n            window.dispatchEvent(new Event('resize'));\r\n            this.setState({ imgHeight: 'auto' });\r\n          }}\r\n          alt=\"\" />\r\n      </a>\r\n    ))\r\n  }\r\n\r\n  // 渲染地图\r\n  renderMap(community, coord) {\r\n    const { latitude, longitude } = coord\r\n\r\n    const map = new BMap.Map('map')\r\n    const point = new BMap.Point(longitude, latitude)\r\n    map.centerAndZoom(point, 17)\r\n\r\n    const label = new BMap.Label('', {\r\n      position: point,\r\n      offset: new BMap.Size(0, -36)\r\n    })\r\n\r\n    label.setStyle(labelStyle)\r\n    label.setContent(`\r\n        <span>${community}</span>\r\n        <div class=\"${styles.mapArrow}\"></div>\r\n      `)\r\n    map.addOverlay(label)\r\n  }\r\n\r\n  // 渲染标签\r\n  renderTags() {\r\n    const {\r\n      houseInfo: { tags }\r\n    } = this.state\r\n\r\n    return tags.map((item, index) => {\r\n      // 如果标签数量超过3个，后面的标签就都展示位第三个标签的样式\r\n      let tagClass = ''\r\n      if (index > 2) {\r\n        tagClass = 'tag3'\r\n      } else {\r\n        tagClass = 'tag' + (index + 1)\r\n      }\r\n\r\n      return (\r\n        <span key={item} className={[styles.tag, styles[tagClass]].join(' ')}>\r\n          {item}\r\n        </span>\r\n      )\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isLoading,\r\n      houseInfo: {\r\n        community = '',\r\n        title,\r\n        price,\r\n        roomType,\r\n        size,\r\n        floor,\r\n        oriented,\r\n        supporting,\r\n        description\r\n      },\r\n      isFavorite\r\n    } = this.state\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 导航栏 */}\r\n        <NavBar\r\n          mode=\"dark\"\r\n          icon={<Icon type=\"left\" />}\r\n          onLeftClick={() => this.props.history.goBack()}\r\n          rightContent={[<i key=\"share\" className=\"iconfont icon-share\" />]}\r\n        >\r\n          房屋详情\r\n        </NavBar>\r\n        {/* 轮播图 */}\r\n        <div className={styles.slides}>\r\n          {!isLoading ? (\r\n            <Carousel autoplay infinite autoplayInterval={5000}>\r\n              {this.renderSwipers()}\r\n            </Carousel>\r\n          ) : (\r\n              ''\r\n            )}\r\n        </div>\r\n        {/* 房屋基础信息 */}\r\n        <div className={styles.info}>\r\n          <h3 className={styles.infoTitle}>{title}</h3>\r\n          <Flex className={styles.tags}>\r\n            <Flex.Item>{this.renderTags()}</Flex.Item>\r\n          </Flex>\r\n\r\n          <Flex className={styles.infoPrice}>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>\r\n                {price}\r\n                <span className={styles.month}>/月</span>\r\n              </div>\r\n              <div>租金</div>\r\n            </Flex.Item>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>{roomType}</div>\r\n              <div>房型</div>\r\n            </Flex.Item>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>{size}平米</div>\r\n              <div>面积</div>\r\n            </Flex.Item>\r\n          </Flex>\r\n\r\n          <Flex className={styles.infoBasic} align=\"start\">\r\n            <Flex.Item>\r\n              <div>\r\n                <span className={styles.title}>装修：</span>\r\n                精装\r\n              </div>\r\n              <div>\r\n                <span className={styles.title}>楼层：</span>\r\n                {floor}\r\n              </div>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <div>\r\n                <span className={styles.title}>朝向：</span>\r\n                {oriented.join('、')}\r\n              </div>\r\n              <div>\r\n                <span className={styles.title}>类型：</span>普通住宅\r\n              </div>\r\n            </Flex.Item>\r\n          </Flex>\r\n        </div>\r\n        {/* 地图位置 */}\r\n        <div className={styles.map}>\r\n          <div className={styles.mapTitle}>\r\n            小区：\r\n            <span>{community}</span>\r\n          </div>\r\n          <div className={styles.mapContainer} id=\"map\">\r\n            地图\r\n          </div>\r\n        </div>\r\n        {/* 房屋配套 */}\r\n        <div className={styles.about}>\r\n          <div className={styles.houseTitle}>房屋配套</div>\r\n          {/* <HousePackage list={supporting} /> */}\r\n          {/* <div className=\"title-empty\">暂无数据</div> */}\r\n\r\n          {supporting.length === 0 ? (\r\n            <div className={styles.titleEmpty}>暂无数据</div>\r\n          ) : (\r\n              <HousePackage list={supporting} />\r\n            )}\r\n        </div>\r\n        {/* 房屋概况 */}\r\n        <div className={styles.set}>\r\n          <div className={styles.houseTitle}>房源概况</div>\r\n          <div>\r\n            <div className={styles.contact}>\r\n              <div className={styles.user}>\r\n                <img src={BASE_URL + '/img/avatar.png'} alt=\"头像\" />\r\n                <div className={styles.useInfo}>\r\n                  <div>王女士</div>\r\n                  <div className={styles.userAuth}>\r\n                    <i className=\"iconfont icon-auth\" />\r\n                    已认证房主\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <span className={styles.userMsg}>发消息</span>\r\n            </div>\r\n\r\n            <div className={styles.descText}>\r\n              {description || '暂无房屋描述'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* 推荐 */}\r\n        <div className={styles.recommend}>\r\n          <div className={styles.houseTitle}>猜你喜欢</div>\r\n          <div className={styles.items}>\r\n            {recommendHouses.map(item => (\r\n              <HouseItem {...item} key={item.id} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {/* 底部收藏按钮 */}\r\n        <Flex className={styles.fixedBottom}>\r\n          <Flex.Item onClick={this.handleFavorite}>\r\n            <img\r\n              src={\r\n                BASE_URL + (isFavorite ? '/img/star.png' : '/img/unstar.png')\r\n              }\r\n              className={styles.favoriteImg}\r\n              alt=\"收藏\"\r\n            />\r\n            <span className={styles.favorite}>\r\n              {isFavorite ? '已收藏' : '收藏'}\r\n            </span>\r\n          </Flex.Item>\r\n          <Flex.Item>在线咨询</Flex.Item>\r\n          <Flex.Item>\r\n            <a href=\"tel:400-618-4000\" className={styles.telephone}>\r\n              电话预约\r\n            </a>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}