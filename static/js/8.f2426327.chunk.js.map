{"version":3,"sources":["components/HouseItem/index.js","components/HouseItem/index.module.css","api/House/index.js","components/NoHouse/index.js","components/NoHouse/index.module.css","page/House/components/FilterTitle/index.module.css","../node_modules/antd-mobile/lib/picker-view/index.js","../node_modules/antd-mobile/lib/picker-view/PickerView.js","components/FilterFooter/index.module.css","page/House/components/FilterMore/index.module.css","page/House/components/Filter/index.module.css","page/House/index.module.css","page/House/components/FilterTitle/index.js","components/FilterFooter/index.js","page/House/components/FilterPicker/index.js","page/House/components/FilterMore/index.js","page/House/components/Filter/index.js","page/House/index.js"],"names":["HouseItem","src","title","desc","tags","price","onClick","style","className","styles","house","imgWrap","img","alt","content","map","tag","index","tagClass","join","priceNum","module","exports","getSelected","id","request","method","url","params","getFilterData","cityId","filter","start","end","updataImage","data","getHouseList","NoHouse","children","root","BASE_URL","msg","Object","defineProperty","value","obj","_PickerView","require","_PickerView2","__esModule","_classCallCheck3","_interopRequireDefault","_createClass3","_possibleConstructorReturn3","_inherits3","React","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","_Cascader2","_MultiPicker2","_Picker2","PickerView","_React$Component","this","_this","__proto__","getPrototypeOf","apply","arguments","isMultiPicker","props","Array","isArray","getCol","_this$props","pickerPrefixCls","indicatorStyle","itemStyle","col","createElement","prefixCls","flex","item","Item","label","cascade","onChange","onScrollChange","cols","pickerItemStyle","selectedValue","onValueChange","flexDirection","Component","defaultProps","titleList","type","FilterTitle","titleDataAll","selectedTitle","align","dropdown","selected","FilterFooter","onOk","onCancel","btn","cancel","ok","FilterPicker","state","v","setState","selectedData","FilterMore","seledData","newSeledData","indexOf","splice","push","switchClick","includes","tagActive","roomType","oriented","floor","characteristic","mask","dl","dt","dd","renderFilters","footer","titleData","area","mode","more","defaultData","Filter","openTitle","getSelectedData","a","getLocalCity","status","diffData","newdata","k","forEach","i","handlerOk","areaval","areaKey","length","rentType","cb","subway","renderPicker","renderMore","HouseList","count","list","success","isRowLoaded","loadMoreRows","startIndex","stopIndex","then","res","rowRenderer","isScrolling","isVisible","houseImg","history","pathname","houseCode","loading","renderList","rowCount","onRowsRendered","registerChild","width","height","ref","houseList","rowHeight"],"mappings":"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","file":"static/js/8.f2426327.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = 'tag' + (index + 1)\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(' ')}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nHouseItem.propTypes = {\r\n  // src: PropTypes.string,\r\n  // title: PropTypes.string,\r\n  // desc: PropTypes.string,\r\n  // tags: PropTypes.array.isRequired,\r\n  // price: PropTypes.number,\r\n  // onClick: PropTypes.func\r\n}\r\n\r\nexport default HouseItem\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__3IR9g\",\"imgWrap\":\"HouseItem_imgWrap__1is7x\",\"img\":\"HouseItem_img__1srx9\",\"content\":\"HouseItem_content__oprSN\",\"title\":\"HouseItem_title__2-m-B\",\"desc\":\"HouseItem_desc__z3W2H\",\"price\":\"HouseItem_price__3e_Yc\",\"priceNum\":\"HouseItem_priceNum__hysMN\",\"tag\":\"HouseItem_tag__2JRJ7\",\"tag1\":\"HouseItem_tag1__ozAKo\",\"tag2\":\"HouseItem_tag2__3JJ2t\",\"tag3\":\"HouseItem_tag3__37oaQ\"};","import request from '../../utils/request'\r\n\r\nexport function getSelected(id) {\r\n  return request({\r\n    method: 'get',\r\n    url: '/houses/condition',\r\n    params: { id }\r\n  })\r\n}\r\n\r\n// 根据条件查询房屋\r\nexport function getFilterData(cityId, filter, start = 1, end = 20) {\r\n  return request({\r\n    method: 'get',\r\n    url: '/houses',\r\n    params: {\r\n      cityId,\r\n      ...filter,\r\n      start,\r\n      end\r\n    }\r\n  })\r\n}\r\n//  房屋图像上传\r\nexport function updataImage(data) {\r\n  return request({\r\n    method: 'post',\r\n    url: '/houses/image',\r\n    data\r\n  })\r\n}\r\n/**\r\n * \r\n查询房源数据\r\n */\r\nexport function getHouseList(id) {\r\n  return request({\r\n    url: '/area/map',\r\n    method: 'get',\r\n    params: { id }\r\n  })\r\n}","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './index.module.css'\r\n// 引入基地址\r\nimport { BASE_URL } from '../../utils/request'\r\n\r\n\r\nconst NoHouse = ({ children }) => (\r\n  <div className={styles.root}>\r\n    <img\r\n      className={styles.img}\r\n      src={BASE_URL + '/img/not-found.png'}\r\n      alt=\"暂无数据\"\r\n    />\r\n    <p className={styles.msg}>{children}</p>\r\n  </div>\r\n)\r\n\r\nNoHouse.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n}\r\n\r\nexport default NoHouse\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NoHouse_root__16OsN\",\"img\":\"NoHouse_img__2bREc\",\"msg\":\"NoHouse_msg__2e0tn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterTitle_root__Xnjkr\",\"dropdown\":\"FilterTitle_dropdown__QYW6T\",\"selected\":\"FilterTitle_selected__2mdmO\"};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PickerView = require('./PickerView');\n\nvar _PickerView2 = _interopRequireDefault(_PickerView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = _PickerView2['default'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _Cascader = require('rmc-cascader/lib/Cascader');\n\nvar _Cascader2 = _interopRequireDefault(_Cascader);\n\nvar _MultiPicker = require('rmc-picker/lib/MultiPicker');\n\nvar _MultiPicker2 = _interopRequireDefault(_MultiPicker);\n\nvar _Picker = require('rmc-picker/lib/Picker');\n\nvar _Picker2 = _interopRequireDefault(_Picker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* tslint:disable:jsx-no-multiline-js */\nfunction getDefaultProps() {\n    return {\n        prefixCls: 'am-picker',\n        pickerPrefixCls: 'am-picker-col',\n        cols: 3,\n        cascade: true,\n        value: [],\n        onChange: function onChange() {}\n    };\n}\n\nvar PickerView = function (_React$Component) {\n    (0, _inherits3['default'])(PickerView, _React$Component);\n\n    function PickerView() {\n        (0, _classCallCheck3['default'])(this, PickerView);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (PickerView.__proto__ || Object.getPrototypeOf(PickerView)).apply(this, arguments));\n\n        _this.isMultiPicker = function () {\n            if (!_this.props.data) {\n                return false;\n            }\n            return Array.isArray(_this.props.data[0]);\n        };\n        _this.getCol = function () {\n            var _this$props = _this.props,\n                data = _this$props.data,\n                pickerPrefixCls = _this$props.pickerPrefixCls,\n                indicatorStyle = _this$props.indicatorStyle,\n                itemStyle = _this$props.itemStyle;\n\n            var formattedData = _this.isMultiPicker() ? data : [data];\n            return formattedData.map(function (col, index) {\n                return React.createElement(\n                    _Picker2['default'],\n                    { key: index, prefixCls: pickerPrefixCls, style: { flex: 1 }, indicatorStyle: indicatorStyle, itemStyle: itemStyle },\n                    col.map(function (item) {\n                        return React.createElement(\n                            _Picker2['default'].Item,\n                            { key: item.value, value: item.value },\n                            item.label\n                        );\n                    })\n                );\n            });\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(PickerView, [{\n        key: 'render',\n        value: function render() {\n            // tslint:disable-next-line:no-this-assignment\n            var props = this.props;\n\n            var picker = void 0;\n            if (props.cascade) {\n                picker = React.createElement(_Cascader2['default'], { prefixCls: props.prefixCls, pickerPrefixCls: props.pickerPrefixCls, data: props.data, value: props.value, onChange: props.onChange, onScrollChange: props.onScrollChange, cols: props.cols, indicatorStyle: props.indicatorStyle, pickerItemStyle: props.itemStyle });\n            } else {\n                picker = React.createElement(\n                    _MultiPicker2['default'],\n                    { prefixCls: props.prefixCls, selectedValue: props.value, onValueChange: props.onChange, onScrollChange: props.onScrollChange, style: { flexDirection: 'row' } },\n                    this.getCol()\n                );\n            }\n            return picker;\n        }\n    }]);\n    return PickerView;\n}(React.Component);\n\nexports['default'] = PickerView;\n\nPickerView.defaultProps = getDefaultProps();\nmodule.exports = exports['default'];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterFooter_root__14mB1\",\"btn\":\"FilterFooter_btn__oknAO\",\"cancel\":\"FilterFooter_cancel__1PJzN\",\"ok\":\"FilterFooter_ok__10hTd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterMore_root__14Yw-\",\"mask\":\"FilterMore_mask__23wzL\",\"tags\":\"FilterMore_tags__3HKOV\",\"tag\":\"FilterMore_tag__SbIAy\",\"tagActive\":\"FilterMore_tagActive__-3DJC\",\"dl\":\"FilterMore_dl__xUkL2\",\"dt\":\"FilterMore_dt__3YngD\",\"dd\":\"FilterMore_dd__3M2dX\",\"footer\":\"FilterMore_footer__3HMvx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Filter_root__2hP1y\",\"mask\":\"Filter_mask__2U8OA\",\"content\":\"Filter_content__3JiV-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"House_root__2mEvt\",\"header\":\"House_header__1oJzV\",\"searchHeader\":\"House_searchHeader__2ElX-\",\"houseList\":\"House_houseList__zT0bc\",\"loading\":\"House_loading__2A2oD\"};","import React from 'react'\r\n\r\nimport { Flex } from 'antd-mobile'\r\n\r\nimport styles from './index.module.css'\r\n\r\n// 条件筛选栏标题数组：\r\nconst titleList = [\r\n  { title: '区域', type: 'area' },\r\n  { title: '方式', type: 'mode' },\r\n  { title: '租金', type: 'price' },\r\n  { title: '筛选', type: 'more' }\r\n]\r\n\r\nexport default function FilterTitle(props) {\r\n  const { titleDataAll, selectedTitle } = props\r\n  return (\r\n    <Flex align=\"center\" className={styles.root}>\r\n      {titleList.map(item => (\r\n        <Flex.Item key={item.type} onClick={() => { selectedTitle(item.type) }}>\r\n          {/* 选中类名： selected */}\r\n          <span className={[styles.dropdown, titleDataAll[item.type] ? styles.selected : null].join(' ')}>\r\n            <span>{item.title}</span>\r\n            <i className=\"iconfont icon-arrow\" />\r\n          </span>\r\n        </Flex.Item>\r\n      ))}\r\n\r\n    </Flex>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport { Flex } from 'antd-mobile'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction FilterFooter({ className, style, onOk, onCancel }) {\r\n  return (\r\n    <Flex style={style} className={[styles.root, className || ''].join(' ')}>\r\n      {/* 取消按钮 */}\r\n      <span onClick={onCancel} className={[styles.btn, styles.cancel].join(' ')}>取消</span>\r\n\r\n      {/* 确定按钮 */}\r\n      <span onClick={onOk} className={[styles.btn, styles.ok].join(' ')}>确定</span>\r\n    </Flex>\r\n  )\r\n}\r\n\r\n// props校验\r\nFilterFooter.propTypes = {\r\n  className: PropTypes.string,\r\n  style: PropTypes.object\r\n}\r\n\r\nexport default FilterFooter\r\n","import React, { Component } from 'react'\r\n\r\nimport { PickerView } from 'antd-mobile'\r\n\r\nimport FilterFooter from '../../../../components/FilterFooter'\r\n\r\n\r\n\r\n\r\nexport default class FilterPicker extends Component {\r\n\r\n  state = {\r\n    value: this.props.data\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {/* 选择器组件： */}\r\n        <PickerView onChange={(v) => { this.setState({ value: v }) }} data={this.props.selectedData} value={this.state.value} cols={this.props.cols} />\r\n\r\n        {/* 底部按钮 */}\r\n        <FilterFooter onOk={() => {\r\n          this.props.onOk(this.state.value)\r\n        }} onCancel={this.props.onCancel} />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport FilterFooter from '../../../../components/FilterFooter'\r\n\r\nimport styles from './index.module.css'\r\n\r\nexport default class FilterMore extends Component {\r\n  state = {\r\n    seledData: this.props.value\r\n  }\r\n  // 切换点击\r\n  switchClick(item) {\r\n    const { seledData } = this.state\r\n    const newSeledData = [...seledData]\r\n    const index = newSeledData.indexOf(item.value)\r\n    if (index !== -1) {\r\n      newSeledData.splice(index, 1)\r\n\r\n    } else {\r\n      newSeledData.push(item.value)\r\n    }\r\n    this.setState({ seledData: newSeledData })\r\n  }\r\n  // 渲染标签\r\n  renderFilters(data) {\r\n    // 高亮类名： styles.tagActive\r\n    const { seledData } = this.state\r\n    return (\r\n      data.map(item => (\r\n        <span onClick={() => { this.switchClick(item) }} key={item.value} className={[styles.tag, seledData.includes(item.value) && styles.tagActive].join(' ')}>{item.label}</span>\r\n      ))\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { data: { roomType, oriented, floor, characteristic }, onCancel, onOk } = this.props\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 遮罩层 */}\r\n        <div className={styles.mask} onClick={onCancel} />\r\n\r\n        {/* 条件内容 */}\r\n        <div className={styles.tags}>\r\n          <dl className={styles.dl}>\r\n            <dt className={styles.dt}>户型</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(roomType)}</dd>\r\n\r\n            <dt className={styles.dt}>朝向</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(oriented)}</dd>\r\n\r\n            <dt className={styles.dt}>楼层</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(floor)}</dd>\r\n\r\n            <dt className={styles.dt}>房屋亮点</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(characteristic)}</dd>\r\n          </dl>\r\n        </div>\r\n\r\n        {/* 底部按钮 */}\r\n        <FilterFooter onOk={() => { onOk(this.state.seledData) }} onCancel={onCancel} className={styles.footer} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport FilterTitle from '../FilterTitle'\r\nimport FilterPicker from '../FilterPicker'\r\nimport FilterMore from '../FilterMore'\r\n\r\nimport styles from './index.module.css'\r\n// 引入api\r\n\r\nimport { getSelected } from '../../../../api/House'\r\n// 获取定位信息\r\nimport { getLocalCity } from '../../../../utils/method'\r\n\r\n// 标题类型选中默认全部取消选中\r\nconst titleData = {\r\n  area: false,\r\n  mode: false,\r\n  price: false,\r\n  more: false\r\n}\r\n// 回显基础数据\r\nconst defaultData = {\r\n  area: [\"area\", \"null\"],\r\n  mode: [\"null\"],\r\n  price: [\"null\"],\r\n  more: []\r\n}\r\nexport default class Filter extends Component {\r\n  state = {\r\n    titleDataAll: { ...titleData },\r\n    openTitle: '',\r\n  }\r\n  componentDidMount() {\r\n    // 获取选择栏数据\r\n    this.getSelectedData()\r\n    this.defaultData = { ...defaultData }\r\n  }\r\n  // 获取选择栏数据\r\n  getSelectedData = async () => {\r\n    const id = await getLocalCity()\r\n    const { status, data } = await getSelected(id.value)\r\n    if (status === 200) {\r\n      this.selectedData = data\r\n    }\r\n  }\r\n  // 点击选中高亮回调函数\r\n  selectedTitle = (type) => {\r\n    this.setState({\r\n      titleDataAll: { ...titleData, [type]: true },\r\n      openTitle: type\r\n    })\r\n  }\r\n  // 对比数据高亮\r\n  diffData = () => {\r\n    const newdata = {}\r\n    for (let k in this.defaultData) {\r\n      this.defaultData[k].forEach((item, i) => {\r\n\r\n        newdata[k] = false;\r\n        if (item !== defaultData[k][i]) {\r\n          newdata[k] = true;\r\n        }\r\n      })\r\n    }\r\n    return newdata\r\n  }\r\n  // 调整确认入参条件数据\r\n  handlerOk = () => {\r\n    const { area, mode, price, more } = this.defaultData\r\n    const filter = {}\r\n    let areaKey = area[0], areaval\r\n    if (area.length == 3 && area[2] !== 'null') {\r\n      areaval = area[2]\r\n    } else {\r\n      areaval = area[1]\r\n    }\r\n    filter[areaKey] = areaval\r\n    filter.rentType = mode[0]\r\n    filter.price = price[0]\r\n    filter.more = more.join(',')\r\n    return filter\r\n  }\r\n  // 点击picker确定\r\n  onOk = (value) => {\r\n    const { openTitle } = this.state\r\n    this.defaultData[openTitle] = value\r\n    this.setState({\r\n      openTitle: '',\r\n      titleDataAll: this.diffData()\r\n    }, () => {\r\n      this.props.cb(this.handlerOk())\r\n    })\r\n  }\r\n  // 点击picker取消\r\n  onCancel = () => {\r\n    this.setState({\r\n      openTitle: '',\r\n      titleDataAll: this.diffData()\r\n    })\r\n  }\r\n  // 渲染蒙层和picker选择\r\n  renderPicker() {\r\n    const { openTitle } = this.state\r\n    if (openTitle === 'area' || openTitle === 'mode' || openTitle === 'price') {\r\n      const { area, price, rentType, subway } = this.selectedData\r\n\r\n      let selectedData = [], cols = 1\r\n      switch (openTitle) {\r\n        case 'area':\r\n          selectedData = [area, subway]\r\n          cols = 3\r\n          break\r\n        case 'mode':\r\n          selectedData = rentType\r\n          break\r\n        default:\r\n          selectedData = price\r\n      }\r\n      // 回显数据\r\n      const data = this.defaultData[openTitle]\r\n      return <FilterPicker key={openTitle} data={data} cols={cols} selectedData={selectedData} onOk={this.onOk} onCancel={this.onCancel} />\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n  // 渲染更多\r\n  renderMore() {\r\n    const { openTitle } = this.state\r\n    if (openTitle === 'more') {\r\n      const value = this.defaultData[openTitle]\r\n      const { roomType, oriented, floor, characteristic } = this.selectedData\r\n      const data = { roomType, oriented, floor, characteristic }\r\n\r\n      return (<FilterMore data={data} value={value} onOk={this.onOk} onCancel={this.onCancel} />)\r\n    }\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 前三个菜单的遮罩层 */}\r\n        {this.renderPicker() ? <div onClick={() => { this.setState({ openTitle: '' }) }} className={styles.mask} /> : null}\r\n\r\n\r\n        <div className={styles.content}>\r\n          {/* 标题栏 */}\r\n          <FilterTitle titleDataAll={this.state.titleDataAll} selectedTitle={this.selectedTitle} />\r\n\r\n          {/* 前三个菜单对应的内容： */}\r\n          {this.renderPicker()}\r\n\r\n          {/* 最后一个菜单对应的内容： */}\r\n          {this.renderMore()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport { Flex, Toast } from 'antd-mobile'\r\n\r\nimport Filter from './components/Filter'\r\n// 导入样式\r\nimport styles from './index.module.css'\r\n// 当前城市id\r\nimport { getLocalCity } from '../../utils/method'\r\n// 获取列表数据 \r\nimport { getFilterData } from '../../api/House/index'\r\n// 引入virtualized\r\nimport { AutoSizer, List, InfiniteLoader } from 'react-virtualized';\r\n// 引入列表组件\r\nimport HouseItem from '../../components/HouseItem'\r\n// 引入基地址\r\nimport { BASE_URL } from '../../utils/request'\r\n// 引入无数据时的组件状态\r\nimport NoHouse from '../../components/NoHouse'\r\n\r\nexport default class HouseList extends React.Component {\r\n  state = {\r\n    count: 0,\r\n    list: []\r\n  }\r\n  // 条件选中数据\r\n  cb = (filter) => {\r\n    this.filter = filter\r\n    this.getFilterData()\r\n  }\r\n  // 获取列表数据\r\n  getFilterData = async () => {\r\n    const { data: { count, list } } = await getFilterData(this.cityId, this.filter)\r\n    if (count !== 0) {\r\n      Toast.success(`获取到${count}条房源数据`, .5)\r\n    }\r\n    this.setState({\r\n      count,\r\n      list\r\n    })\r\n  }\r\n  async componentDidMount() {\r\n    const { value } = await getLocalCity()\r\n    this.cityId = value\r\n    this.getFilterData()\r\n  }\r\n  // 判断是否加载完毕\r\n  isRowLoaded = ({ index }) => {\r\n    return !!this.state.list[index];\r\n  }\r\n  // 获取下一页数据\r\n  loadMoreRows = ({ startIndex, stopIndex }) => {\r\n    return getFilterData(this.cityId, this.filter, startIndex, stopIndex).then(res => {\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          list: [...this.state.list, ...res.data.list]\r\n        })\r\n      }\r\n    })\r\n  }\r\n  // 模版数据\r\n  rowRenderer = ({\r\n    key, // Unique key within array of rows\r\n    index, // Index of row within collection\r\n    isScrolling, // The List is currently being scrolled\r\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\r\n    style, // Style object to be applied to row (to position it)\r\n  }) => {\r\n    const { list } = this.state\r\n    const item = list[index]\r\n    if (!item) {\r\n      return (\r\n        <div style={style} key={key}>\r\n          <p className={styles.loading}></p>\r\n        </div>\r\n      )\r\n    }\r\n    item.src = `${BASE_URL}${item.houseImg}`\r\n    return (\r\n      <HouseItem onClick={() => { this.props.history.push({ pathname: `/detail/${item.houseCode}` }) }} {...item} key={key} style={style} />\r\n    )\r\n  }\r\n  renderList = () => {\r\n    return (\r\n      this.state.count ? <InfiniteLoader\r\n        isRowLoaded={this.isRowLoaded}\r\n        loadMoreRows={this.loadMoreRows}\r\n        rowCount={this.state.count}\r\n      >\r\n        {({ onRowsRendered, registerChild }) => (\r\n          <AutoSizer>\r\n            {({ width, height }) => (\r\n              < List\r\n                onRowsRendered={onRowsRendered}\r\n                ref={registerChild}\r\n                className={styles.houseList}\r\n                width={width}\r\n                height={height}\r\n                rowCount={this.state.count}\r\n                rowHeight={130}\r\n                rowRenderer={this.rowRenderer}\r\n\r\n              />\r\n            )}\r\n          </AutoSizer>\r\n        )}\r\n      </InfiniteLoader> : <NoHouse>所选地区暂无房源信息</NoHouse>\r\n    )\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 条件筛选栏 */}\r\n        <Filter cb={this.cb} />\r\n        {/* 渲染列表数据 */}\r\n        {this.renderList()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}